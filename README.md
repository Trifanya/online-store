# Проект "Прототип интернет-магазина".

## Описание проекта.
В данном проекте реализована серверная часть сайта интернет-магазина, обеспечивающая следующий функционал:
- Регистрация и аутентификация.
- Базовые операции для взаимодействия с сайтом:
  - Просмотр категорий товаров и самих товаров с возможностью сортировки по рейтингу и цене, а также фильтрации
 по различным характеристикам с помощью диапазона значений, множества конкретных значений или флага (признака наличия);
  - Добавление товаров в корзину и оформление заказа (информация о котором отправляется на почту пользователя);
  - Добавление отзывов о товарах;
- Операции для администратора сайта:
  - Добавление, редактирование и удаление категорий товаров, характеритик категорий и товаров, самих товаров;
  - Перемещение категорий товаров в дереве;
  - Удаление отзывов;

## Модель базы данных.
![Схема базы данных для проекта _Интернет-магазин](https://github.com/Trifanya/online-store/assets/80362982/5daf07f7-3272-4744-a711-30b748c7e5a3)

## Стек технологий.
- Maven
- Spring Boot
- Spring Security
- Spring MVC
- Spring Data JPA
- Hibernate
- PostgreSQL
- Liquibase
- JUnit 5 и Mockito
- Swagger UI
- Docker

## Сборка и запуск.
### Запуск приложения в Docker-контейнере.
1. Собрать jar-файл с приложением:
```sh
mvn clean package -DskipTests
```
2. Собрать образ приложения и запустить контейнер с ним:
```sh
docker compose up
```
### Запуск приложения в среде разработки.
1. Создать новую базу данных и подключиться к ней.
2. В файле application.yaml указать необходимую конфигурацию базы данных.
3. Запустить приложение.

## Тестирование.
Работу приложения можно протестировать с помощью инструмента Swagger UI. Для этого после запуска приложения необходимо 
отправить get-запрос по адресу ```host_name:port/swagger-ui/index.html```. После выполнения данного запроса можно будет пользоваться 
интерфейсом Swagger для отправки запросов в приложение.
 
Доступ к функционалу приложения разделен по ролям следующим образом:
 - Функционал, доступный всем пользователям (в т.ч. незарегистрированным);
 - Функционал, доступный только простому пользователю;
 - Функционал, доступный только администратору;
 - Функционал, доступный простому пользователю (зарегистрированному) и администратору;

Для получения прав администратора необходимо авторизоваться со следующими данными:
- Логин: test1@mail.ru
- Пароль: testPassword_1

Для получения прав простого пользователя необходимо следовать одному из двух вариантов:
1. Авторизоваться со следующими данными:
  - Логин: testX@mail.ru, где X - число от 2 до 5
  - Пароль: testPassword_X, где X - число от 2 до 5
2. Зарегистрировать новый аккаунт и авторизоваться с данными этого аккаунта.

При правильно введенных данных и успешной авторизации в ответном запросе придет JWT-токен, который необходимо скопировать и после
нажатия на кнопку **Authorize** в самом верху страницы вставить в поле **Value**. После этого можно будет отправить любой запрос от имени
авторизованного пользователя, не указывая JWT в каждом конкретном запросе.
    
## Контакты.
- Gmail: trifanya.dev@gmail.com
- Telegram: @Trifanya
